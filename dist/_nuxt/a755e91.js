(window.webpackJsonp=window.webpackJsonp||[]).push([[32,10,11,12,13,14,18,26],{547:function(t,e,r){var content=r(555);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("7d57a7c4",content,!0,{sourceMap:!1})},548:function(t,e,r){var content=r(557);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("12ca86cb",content,!0,{sourceMap:!1})},549:function(t,e,r){var content=r(562);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("989ac5a0",content,!0,{sourceMap:!1})},550:function(t,e,r){var content=r(566);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("d705dcd0",content,!0,{sourceMap:!1})},551:function(t,e,r){var content=r(571);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("00406181",content,!0,{sourceMap:!1})},553:function(t,e,r){r(17),r(11),r(20),r(24),r(14),r(25);var o=r(63),n=r(68),c=["class","staticClass","style","staticStyle","attrs"];function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}r(13),t.exports={functional:!0,render:function(t,e){var r=e._c,data=(e._v,e.data),d=e.children,f=void 0===d?[]:d,m=data.class,_=data.staticClass,style=data.style,v=data.staticStyle,h=data.attrs,w=void 0===h?{}:h,x=n(data,c);return r("svg",function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){o(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({class:[m,_],style:[style,v],attrs:Object.assign({width:"16",height:"16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w)},x),f.concat([r("circle",{attrs:{cx:"6.5",cy:"6.5",r:"5.75",stroke:"#828282","stroke-width":"1.5"}}),r("path",{attrs:{d:"M11 11l4 4",stroke:"#828282","stroke-width":"1.5","stroke-linecap":"round"}})]))}}},554:function(t,e,r){"use strict";r(547)},555:function(t,e,r){var o=r(27)(!1);o.push([t.i,".header-search[data-v-fa1d3302]{position:relative}.header-search__button[data-v-fa1d3302]{position:absolute;right:15px;top:0;bottom:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:transparent;margin:0}.header-search__input[data-v-fa1d3302]{display:block;width:100%;background:#fff;box-shadow:0 0 8px rgba(0,0,0,.05);border-radius:10px;height:32px;outline:none;padding-left:12px;padding-right:40px;font-weight:400;font-size:12px;line-height:15px;letter-spacing:.3px;color:#000}.header-search__input[data-v-fa1d3302]::-moz-placeholder{color:#828282;font-weight:300}.header-search__input[data-v-fa1d3302]:-ms-input-placeholder{color:#828282;font-weight:300}.header-search__input[data-v-fa1d3302]::placeholder{color:#828282;font-weight:300}",""]),t.exports=o},556:function(t,e,r){"use strict";r(548)},557:function(t,e,r){var o=r(27)(!1);o.push([t.i,'.header-user{display:flex;justify-content:flex-end;align-items:center}.header-user__title{text-align:right;font-weight:600;font-size:14px;line-height:20px}.header-user__avatar{border:1.5px solid #dfe0eb;width:45px;height:45px;border-radius:50%;overflow:hidden;display:flex;justify-content:center;align-items:center;padding:1.5px;position:relative;min-width:45px;margin-left:20px}.header-user__avatar:after{left:-1.5px;right:-1.5px;bottom:-1.5px;top:-1.5px;content:"";position:absolute;z-index:3;border-radius:50%;border:3px solid #fff}.header-user__avatar img{min-width:100%;min-height:100%;width:auto;height:auto}',""]),t.exports=o},558:function(t,e,r){"use strict";r.r(e);var o=r(553),n={components:{Search:r.n(o).a}},c=(r(554),r(8)),component=Object(c.a)(n,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"header-search"})}),[],!1,null,"fa1d3302",null);e.default=component.exports},559:function(t,e,r){"use strict";r.r(e);r(556);var o=r(8),component=Object(o.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.$auth.loggedIn?r("div",{staticClass:"header-user"},[r("div",{staticClass:"header-user__title"},[t._v(t._s(t.$auth.user.username))]),t._v(" "),t._m(0)]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"header-user__avatar"},[e("img",{attrs:{src:"https://cs-site.ru/uploads/posts/2020-09/1600253903_35.jpg",alt:""}})])}],!1,null,null,null);e.default=component.exports},560:function(t,e){t.exports='<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M34.8332 20.1667H13.0899L19.7449 12.1734C20.0561 11.799 20.2058 11.3163 20.1611 10.8315C20.1164 10.3467 19.881 9.89958 19.5066 9.58839C19.1322 9.2772 18.6495 9.12749 18.1647 9.17219C17.6799 9.21688 17.2328 9.45233 16.9216 9.82672L7.75492 20.8267C7.69325 20.9142 7.6381 21.0061 7.58992 21.1017C7.58992 21.1934 7.58992 21.2484 7.46159 21.3401C7.37849 21.5503 7.33498 21.774 7.33325 22.0001C7.33498 22.2261 7.37849 22.4498 7.46159 22.6601C7.46159 22.7517 7.46159 22.8067 7.58992 22.8984C7.6381 22.994 7.69325 23.0859 7.75492 23.1734L16.9216 34.1734C17.094 34.3803 17.3098 34.5468 17.5538 34.6608C17.7978 34.7749 18.0639 34.8338 18.3333 34.8334C18.7616 34.8342 19.1767 34.685 19.5066 34.4117C19.6922 34.2578 19.8457 34.0688 19.9582 33.8555C20.0706 33.6422 20.1399 33.4088 20.1621 33.1687C20.1842 32.9285 20.1588 32.6864 20.0872 32.4561C20.0156 32.2259 19.8993 32.012 19.7449 31.8267L13.0899 23.8334H34.8332C35.3195 23.8334 35.7858 23.6402 36.1296 23.2964C36.4734 22.9526 36.6666 22.4863 36.6666 22.0001C36.6666 21.5138 36.4734 21.0475 36.1296 20.7037C35.7858 20.3599 35.3195 20.1667 34.8332 20.1667Z" fill="black"/>\n</svg>\n'},561:function(t,e,r){"use strict";r(549)},562:function(t,e,r){var o=r(27)(!1);o.push([t.i,".header[data-v-822704a2]{padding-left:20px;padding-right:20px;border-bottom:1px solid #dfe0eb}.header-back[data-v-822704a2],.header-top[data-v-822704a2]{display:flex;align-items:center}.header-back[data-v-822704a2]{justify-content:center;margin-right:30px}.header__title[data-v-822704a2]{color:#252733;font-weight:700;letter-spacing:.3px;font-size:24px}.header__item[data-v-822704a2]{padding-top:32px;padding-right:10px;padding-bottom:4px}.header__user[data-v-822704a2]{border-left:1px solid #dfe0eb}",""]),t.exports=o},565:function(t,e,r){"use strict";r(550)},566:function(t,e,r){var o=r(27)(!1);o.push([t.i,".loader{padding:5px;display:flex;justify-content:center;align-items:center}.loader *{stroke:#2091f9}",""]),t.exports=o},567:function(t,e,r){"use strict";r.r(e);r(52);var o=r(560),n=r.n(o),c={props:{title:{type:String,default:"Заголовок"},type:{type:String,default:"home",validator:function(t){return["home","back"].includes(t)}},backTo:{type:String}},data:function(){return{iconBack:n.a}}},l=(r(561),r(8)),d=r(183),f=r.n(d),m=r(827),_=r(587),v=r(915),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",{staticClass:"header"},[r("v-container",{staticClass:"content",attrs:{fluid:""}},[r("v-row",{attrs:{align:"end"}},[r("v-col",{attrs:{md:"home"===t.type?3:9}},[r("div",{staticClass:"header__item"},[r("div",{staticClass:"header-top"},["back"===t.type?r("nuxt-link",{staticClass:"header-back",attrs:{to:t.backTo},domProps:{innerHTML:t._s(t.iconBack)}}):t._e(),t._v(" "),r("div",{staticClass:"header__title"},[t._v(t._s(t.title))])],1)])]),t._v(" "),"home"===t.type?r("v-col",{attrs:{md:"6"}},[r("div",{staticClass:"header__item"},[r("div",{staticClass:"header__center"},[r("AdminHeaderSearch")],1)])]):t._e(),t._v(" "),r("v-col",{staticClass:"header__user",attrs:{md:"3"}},[r("div",{staticClass:"header__item"},[r("AdminHeaderUser")],1)])],1)],1)],1)}),[],!1,null,"822704a2",null);e.default=component.exports;f()(component,{AdminHeaderSearch:r(558).default,AdminHeaderUser:r(559).default}),f()(component,{VCol:m.a,VContainer:_.a,VRow:v.a})},568:function(t,e,r){"use strict";r.r(e);var o={props:["label","placeholder","error","disabled","value","type"],methods:{updateInput:function(t){this.$emit("input",t.target.value)}}},n=(r(570),r(8)),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"input"},[t.label?r("label",{staticClass:"input__label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),r("input",{staticClass:"input__input",class:{"input__input--error":t.error},attrs:{placeholder:t.placeholder,disabled:t.disabled,type:t.type?t.type:"text"},domProps:{value:t.value},on:{input:t.updateInput,keypress:function(e){return t.$emit("keypress",e.target.value)}}}),t._v(" "),t.error&&t.error.length>0?r("div",{staticClass:"input__error"},[t._v(t._s(t.error[0]))]):t._e()])}),[],!1,null,"56eb4050",null);e.default=component.exports},569:function(t,e,r){"use strict";r.r(e);r(565);var o=r(8),n=r(183),c=r.n(n),l=r(173),component=Object(o.a)({},(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loader"},[e("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VProgressCircular:l.a})},570:function(t,e,r){"use strict";r(551)},571:function(t,e,r){var o=r(27)(!1);o.push([t.i,".input[data-v-56eb4050]{flex:1}.input__input[data-v-56eb4050]{flex:1;width:100%;height:58px;background-color:transparent;border:2px solid #e8e8e8;border-radius:10px;padding-left:25px;padding-right:25px;color:#000;font-weight:500;font-size:16px;outline:none!important}.input__input[data-v-56eb4050]:disabled{color:#b0b0b0}.input__input--error[data-v-56eb4050]{border-color:red}.input__input[data-v-56eb4050]::-moz-placeholder{font-size:15px;font-weight:500;color:#b0b0b0;line-height:16px}.input__input[data-v-56eb4050]:-ms-input-placeholder{font-size:15px;font-weight:500;color:#b0b0b0;line-height:16px}.input__input[data-v-56eb4050]::placeholder{font-size:15px;font-weight:500;color:#b0b0b0;line-height:16px}.input__input[data-v-56eb4050]:not(:disabled):active,.input__input[data-v-56eb4050]:not(:disabled):focus,.input__input:not(:disabled)[focus-within][data-v-56eb4050]{border-color:#2091f9}.input__input[data-v-56eb4050]:not(:disabled):active,.input__input[data-v-56eb4050]:not(:disabled):focus,.input__input[data-v-56eb4050]:not(:disabled):focus-within{border-color:#2091f9}.input__label[data-v-56eb4050]{font-weight:500;font-size:16px;line-height:28px;color:#252b42;margin-bottom:8px;display:block}.input__error[data-v-56eb4050]{font-size:12px;color:red;margin-top:4px}",""]),t.exports=o},573:function(t,e,r){var content=r(583);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("70da6c5a",content,!0,{sourceMap:!1})},582:function(t,e,r){"use strict";r(573)},583:function(t,e,r){var o=r(27),n=r(142),c=r(584),l=o(!1),d=n(c);l.push([t.i,".select *{box-shadow:none!important}.select fieldset{border:2px solid #e8e8e8;border-radius:10px}.select .v-input__slot{padding-left:25px!important;padding-right:25px!important}.select .v-text-field--outlined.v-input--has-state fieldset,.select .v-text-field--outlined.v-input--is-focused fieldset{border-color:#2091f9}.select .v-menu__content{border:2px solid #e8e8e8;border-radius:10px}.select .v-text-field input{font-weight:500;font-size:15px;line-height:16px;color:#b0b0b0}.select__label{font-weight:500;font-size:16px;line-height:28px;color:#252b42;margin-bottom:8px;display:block}.select .v-icon.v-icon{color:transparent;background-image:url("+d+");background-position:50%}.select__error{font-size:12px;color:red;margin-top:4px}.select__input--error fieldset{border-color:red}",""]),t.exports=l},584:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAICAYAAAAftBSpAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD5SURBVHgBhZDbDYJAEEV3Bf4tgRLsQEh4fulWoB2oFQgVqBWoFegfCY+sJVgCJZjwycu7BgxG0EkmOwNn751ZGkWRRgiZITVZlpmu6yn5E2EYLimlK5Q33DmMEFM0a+SkLEsOYPJLAKYeBI6Cr+t6nuf5mDY/NBwX5Fj0ENs4jrPvmeAEgYWoIXAHx1zXTWkLBEGgSpLEAamir6rKt23bEzXnXC2KQpi8pgRzyrJswxh7vPqukxDCjm8YbldFUXw4XlCrDeaZpul371HSv/eueaePwARLwzDOX9/JQCRJssVKXjNRioNZlnXvYwdFRMRxPIfQtn3AIe4J4VBuMfIG494AAAAASUVORK5CYII="},589:function(t,e,r){"use strict";r.r(e);var o={props:["items","placeholder","label","itemText","itemValue","error","value"],methods:{updateInput:function(t){this.$emit("input",t)}}},n=(r(582),r(8)),c=r(183),l=r.n(c),d=r(810),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"select",attrs:{"data-app":""}},[t.label?r("div",{staticClass:"select__label"},[t._v(t._s(t.label))]):t._e(),t._v(" "),r("div",{staticClass:"select__input",class:{"select__input--error":t.error}},[r("v-select",{attrs:{items:t.items,label:t.placeholder,"close-on-select":!0,solo:"",outlined:"","menu-props":{bottom:!0,offsetY:!0},"item-text":t.itemText,"item-value":t.itemValue,value:t.value,"hide-details":""},on:{input:t.updateInput}})],1),t._v(" "),t.error&&t.error.length>0?r("div",{staticClass:"select__error"},[t._v(t._s(t.error[0]))]):t._e()])}),[],!1,null,null,null);e.default=component.exports;l()(component,{VSelect:d.a})},592:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n<path d="M11 11H7M11 7V11V7ZM11 11V15V11ZM11 11H15H11Z" stroke-width="2" stroke-linecap="round"/>\n<path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke-width="2"/>\n</svg>\n'},596:function(t,e,r){var content=r(638);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("06bedefb",content,!0,{sourceMap:!1})},597:function(t,e,r){var content=r(640);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("5cc00761",content,!0,{sourceMap:!1})},598:function(t,e,r){var content=r(642);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("7d826050",content,!0,{sourceMap:!1})},634:function(t,e){t.exports='<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n<path d="M10.9998 10.9999L8.04341 8.30552M13.6942 8.04351L10.9998 10.9999L13.6942 8.04351ZM10.9998 10.9999L8.30542 13.9563L10.9998 10.9999ZM10.9998 10.9999L13.9562 13.6943L10.9998 10.9999Z" stroke-width="2" stroke-linecap="round"/>\n<path d="M11 21C16.5228 21 21 16.5228 21 11C21 5.47715 16.5228 1 11 1C5.47715 1 1 5.47715 1 11C1 16.5228 5.47715 21 11 21Z" stroke-width="2"/>\n</svg>\n'},635:function(t,e){t.exports='<svg width="21" height="21" viewBox="0 0 21 21" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M10.5 19.6875C12.9367 19.6875 15.2736 18.7195 16.9965 16.9965C18.7195 15.2736 19.6875 12.9367 19.6875 10.5C19.6875 8.06332 18.7195 5.72645 16.9965 4.00346C15.2736 2.28047 12.9367 1.3125 10.5 1.3125C8.06332 1.3125 5.72645 2.28047 4.00346 4.00346C2.28047 5.72645 1.3125 8.06332 1.3125 10.5C1.3125 12.9367 2.28047 15.2736 4.00346 16.9965C5.72645 18.7195 8.06332 19.6875 10.5 19.6875ZM10.5 0C13.2848 0 15.9555 1.10625 17.9246 3.07538C19.8938 5.04451 21 7.71523 21 10.5C21 13.2848 19.8938 15.9555 17.9246 17.9246C15.9555 19.8938 13.2848 21 10.5 21C7.71523 21 5.04451 19.8938 3.07538 17.9246C1.10625 15.9555 0 13.2848 0 10.5C0 7.71523 1.10625 5.04451 3.07538 3.07538C5.04451 1.10625 7.71523 0 10.5 0ZM5.90625 9.84375C5.7322 9.84375 5.56528 9.91289 5.44221 10.036C5.31914 10.159 5.25 10.326 5.25 10.5C5.25 10.674 5.31914 10.841 5.44221 10.964C5.56528 11.0871 5.7322 11.1563 5.90625 11.1563L13.5096 11.1563L10.6916 13.9729C10.5684 14.0961 10.4992 14.2632 10.4992 14.4375C10.4992 14.6118 10.5684 14.7789 10.6916 14.9021C10.8149 15.0254 10.982 15.0946 11.1563 15.0946C11.3305 15.0946 11.4976 15.0254 11.6209 14.9021L15.5584 10.9646C15.6195 10.9037 15.668 10.8312 15.7011 10.7515C15.7341 10.6718 15.7512 10.5863 15.7512 10.5C15.7512 10.4137 15.7341 10.3282 15.7011 10.2485C15.668 10.1688 15.6195 10.0963 15.5584 10.0354L11.6209 6.09787C11.4976 5.97465 11.3305 5.90542 11.1563 5.90542C10.982 5.90542 10.8149 5.97465 10.6916 6.09787C10.5684 6.2211 10.4992 6.38823 10.4992 6.5625C10.4992 6.73677 10.5684 6.9039 10.6916 7.02713L13.5096 9.84375L5.90625 9.84375Z" />\n</svg>\n'},636:function(t,e){t.exports='<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M9 7V0H7V7H0V9H7V16H9V9H16V7H9Z" fill="white"/>\n</svg>\n'},637:function(t,e,r){"use strict";r(596)},638:function(t,e,r){var o=r(27)(!1);o.push([t.i,'.wtps-add{display:flex;justify-content:space-between;align-items:center;background-color:#6fcf97;fill:#fff;color:#fff;font-size:16px;line-height:24px;padding:16px 54px 16px 16px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.wtps__list{border:1px solid #ccc;border-radius:10px;padding-top:15px;margin-top:-15px;height:600px;overflow-y:scroll}.wtps__input{flex:1;width:100%;height:58px;background-color:transparent;border:2px solid #e8e8e8;border-radius:10px;padding-left:25px;padding-right:25px;color:#000;font-weight:500;font-size:16px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;outline:none!important;background-color:#fff;position:relative;z-index:3}.wtps__input:disabled{color:#b0b0b0}.wtps__input--error{border-color:red}.wtps__input::-moz-placeholder{font-size:15px;font-weight:500;color:#b0b0b0;line-height:16px}.wtps__input:-ms-input-placeholder{font-size:15px;font-weight:500;color:#b0b0b0;line-height:16px}.wtps__input::placeholder{font-size:15px;font-weight:500;color:#b0b0b0;line-height:16px}.wtps__input:not(:disabled):active,.wtps__input:not(:disabled):focus,.wtps__input:not(:disabled)[focus-within]{border-color:#2091f9}.wtps__input:not(:disabled):active,.wtps__input:not(:disabled):focus,.wtps__input:not(:disabled):focus-within{border-color:#2091f9}.wtps__label{font-weight:500;font-size:16px;line-height:28px;color:#252b42;margin-bottom:8px;display:block}.wtps-row{display:flex;align-items:center;justify-content:space-between;padding:8px 50px 8px 15px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;position:relative}.wtps-row--select .wtps-row__title{color:#666;font-weight:700}.wtps-row:after{bottom:0;left:0;right:0;height:1px;z-index:2;position:absolute;content:"";background-color:#ccc}.wtps-row--folder{padding-top:16px;padding-bottom:16px}.wtps-row--active{background-color:#2f80ed}.wtps-row--active:after{display:none}.wtps-row--active .wtps-row__text,.wtps-row--active .wtps-row__title{color:#fff}.wtps-row__icon{cursor:pointer}.wtps-row__icon-plus{fill:transparent;stroke:#2091f9}.wtps-row__icon-more{fill:#2091f9}.wtps-row--active .wtps-row__icon-plus{fill:transparent;stroke:#fff}.wtps-row--active .wtps-row__icon-more{fill:#fff}.wtps-row__control,.wtps-row__icon{display:flex;justify-content:center;align-items:center}.wtps-row__control{margin-left:25px}.wtps-row__title{text-transform:uppercase}.wtps-row__text,.wtps-row__title{font-size:16px;line-height:24px;color:#666}',""]),t.exports=o},639:function(t,e,r){"use strict";r(597)},640:function(t,e,r){var o=r(27)(!1);o.push([t.i,'.mwa__overlay{position:absolute;top:0;left:0;right:0;bottom:0;z-index:10;background-color:rgba(21,21,21,.5)}.mwa__modal{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:20;background-color:#fff;box-shadow:0 0 8px rgba(0,0,0,.25);border-radius:10px;width:1000px;max-width:100%}.mwa__header{background:#2f80ed;border-radius:10px 10px 0 0;padding:4px 50px}.mwa__title{font-weight:500;font-size:16px;line-height:24px;color:#fff}.mwa__content{padding:25px 50px}.mwa .col{padding-top:0;padding-bottom:0}.mwa .row{margin-top:0;margin-bottom:0}.mwa__button{display:flex;justify-content:center}.mwa__input{margin-bottom:20px}.mwa-radio{position:relative;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;line-height:24px;color:#666;margin-right:30px}.mwa-radio__input{display:none}.mwa-radio__fake{width:30px;height:30px;background-color:transparent;border-radius:50%;border:1px solid #ccc;margin-right:7px;position:relative}.mwa-radio__input:checked+.mwa-radio__fake:after{top:50%;left:50%;transform:translate(-50%,-50%);content:"";position:absolute;z-index:2;background-color:#2091f9;border-radius:50%;width:12px;height:12px}.mwa__radios{display:flex;align-items:center}.mwa__text{font-weight:500;font-size:16px;line-height:28px;color:#252b42;margin-bottom:8px;display:block}',""]),t.exports=o},641:function(t,e,r){"use strict";r(598)},642:function(t,e,r){var o=r(27)(!1);o.push([t.i,'.mwa__overlay[data-v-6fa65ca0]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:10;background-color:rgba(21,21,21,.5)}.mwa__modal[data-v-6fa65ca0]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:20;background-color:#fff;box-shadow:0 0 8px rgba(0,0,0,.25);border-radius:10px;width:560px;max-width:100%}.mwa__header[data-v-6fa65ca0]{background:#2f80ed;border-radius:10px 10px 0 0;padding:4px 50px}.mwa__title[data-v-6fa65ca0]{font-weight:500;font-size:16px;line-height:24px;color:#fff}.mwa__content[data-v-6fa65ca0]{padding:25px 50px}.mwa .col[data-v-6fa65ca0]{padding-top:0;padding-bottom:0}.mwa .row[data-v-6fa65ca0]{margin-top:0;margin-bottom:0}.mwa__button[data-v-6fa65ca0]{display:flex;justify-content:center}.mwa__input[data-v-6fa65ca0]{margin-bottom:20px}.mwa-radio[data-v-6fa65ca0]{position:relative;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;font-size:14px;line-height:24px;color:#666;margin-right:30px}.mwa-radio__input[data-v-6fa65ca0]{display:none}.mwa-radio__fake[data-v-6fa65ca0]{width:30px;height:30px;background-color:transparent;border-radius:50%;border:1px solid #ccc;margin-right:7px;position:relative}.mwa-radio__input:checked+.mwa-radio__fake[data-v-6fa65ca0]:after{top:50%;left:50%;transform:translate(-50%,-50%);content:"";position:absolute;z-index:2;background-color:#2091f9;border-radius:50%;width:12px;height:12px}.mwa__radios[data-v-6fa65ca0]{display:flex;align-items:center}.mwa__text[data-v-6fa65ca0]{font-weight:500;font-size:16px;line-height:28px;color:#252b42;margin-bottom:8px;display:block}',""]),t.exports=o},806:function(t,e,r){var content=r(895);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("3be7339d",content,!0,{sourceMap:!1})},815:function(t,e,r){"use strict";r.r(e);r(17),r(11),r(24),r(25);var o=r(141),n=r(18),c=r(5),l=(r(74),r(53),r(284),r(20),r(36),r(143),r(31),r(52),r(76),r(13),r(14),r(607)),d=r.n(l),f=r(592),m=r.n(f),_=r(634),v=r.n(_),h=r(635),w=r.n(h),x=r(636),y=r.n(x);function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function k(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(c.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var O={props:["label","items","city"],data:function(){return{iconPlus:m.a,iconDelete:v.a,iconMore:w.a,iconPlusLine:y.a,searchStr:"",totalSearchStr:"",openFolderIds:[],selectItem:null,selectParent:null,itemsSearch:[],child:[]}},computed:{rows:function(){var t=this;return this.searchStr.length>2?this.itemsSearch:this.items.map((function(e){var r;return k(k({},e),{},{items:null===(r=t.child.find((function(i){return i.parent===e.id})))||void 0===r?void 0:r.items})}))},isExactMatch:function(){return 1===this.rows.filter((function(t){return!t.is_folder})).length}},watch:{searchStr:function(t,e){t.length>3&&this.debouncedGetAnswer()}},created:function(){this.debouncedGetAnswer=d.a.debounce(this.search,300)},methods:{onPressItem:function(t){var e=this,r=t.rates.find((function(t){return t.city.id===e.city}));this.$store.commit("mwaw/open",{source_work_type:t.id,name:t.name,unit:t.unit,rate:r,quantity:"",is_brigade:!1})},onPressFolder:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!e.openFolderIds.includes(t)){r.next=5;break}e.child=e.child.filter((function(e){return e.parent!==t})),e.openFolderIds=e.openFolderIds.filter((function(e){return e!==t})),r.next=16;break;case 5:return r.prev=5,e.openFolderIds=[].concat(Object(o.a)(e.openFolderIds),[t]),r.next=9,e.$axios.get("/api/catalogs/work-types/?limit=100000&parent=".concat(t,"&rates_city=").concat(e.city));case 9:n=r.sent,e.child=[].concat(Object(o.a)(e.child),[{parent:t,items:n.data.results}]),r.next=16;break;case 13:r.prev=13,r.t0=r.catch(5),console.log(r.t0);case 16:case"end":return r.stop()}}),r,null,[[5,13]])})))()},onPressRow:function(t){if(!Object(o.a)(event.target.parentNode.classList).includes("wtps-row__icon"))if(t.is_folder)this.onPressFolder(t.id);else{if(this.selectItem===t.id)return this.selectItem=null,void(this.selectParent=null);this.selectItem=t.id,this.selectParent=t.parent.id,this.onPressItem(t)}},search:function(){var t=this;this.$axios.get("/api/catalogs/work-types/?limit=100000&search=".concat(this.searchStr,"&rates_city=").concat(this.city)).then((function(e){t.itemsSearch=e.data.results;var r=[];e.data.results.forEach((function(t){t.is_folder&&r.push(t.id)})),t.openFolderIds=r})).catch((function(t){console.log(t)}))}}},j=(r(637),r(8)),component=Object(j.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wtps"},[r("div",{staticClass:"wtps__label"},[t._v("Выберите тип работ:")]),t._v(" "),r("div",{staticClass:"wtps__field"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchStr,expression:"searchStr"}],staticClass:"wtps__input",attrs:{type:"text",placeholder:"Поле ввода для поиска"},domProps:{value:t.searchStr},on:{input:function(e){e.target.composing||(t.searchStr=e.target.value)}}})]),t._v(" "),r("div",{staticClass:"wtps__list"},[r("div",{staticClass:"wtps-add",on:{click:function(e){return t.$store.commit("mwa/open")}}},[r("div",{staticClass:"wtps-add__text"},[t._v("Добавить тип работ")]),t._v(" "),r("div",{staticClass:"wtps-add__icon",domProps:{innerHTML:t._s(t.iconPlusLine)}})]),t._v(" "),t._l(t.rows,(function(e){return r("div",{key:e.id,staticClass:"wtps-rw"},[t.isExactMatch&&e.is_folder?t._e():r("div",{staticClass:"wtps-row",class:{"wtps-row--folder":e.is_folder,"wtps-row--active":e.is_folder?t.openFolderIds.includes(e.id):t.selectItem===e.id,"wtps-row--select":t.selectParent===e.id},on:{click:function(r){return t.onPressRow(e)}}},[e.is_folder?r("div",{staticClass:"wtps-row__title"},[t._v("\n          "+t._s(e.name)+"\n        ")]):r("div",{staticClass:"wtps-row__text"},[t._v("\n          "+t._s(e.name)+"\n        ")]),t._v(" "),e.is_folder?r("div",{staticClass:"wtps-row__control"},[t.openFolderIds.includes(e.id)?r("div",{staticClass:"wtps-row__icon wtps-row__icon-plus",domProps:{innerHTML:t._s(t.iconDelete)}}):r("div",{staticClass:"wtps-row__icon wtps-row__icon-plus",domProps:{innerHTML:t._s(t.iconPlus)}})]):r("div",{staticClass:"wtps-row__control"},[r("div",{staticClass:"wtps-row__icon wtps-row__icon-more",domProps:{innerHTML:t._s(t.iconMore)},on:{click:function(r){return t.onPressItem(e)}}})])]),t._v(" "),e.items?r("div",{staticClass:"wtps-items"},t._l(e.items,(function(e){return r("div",{key:"it"+e.id,staticClass:"wtps-row",class:{"wtps-row--active":t.selectItem===e.id},on:{click:function(r){return t.onPressRow(e)}}},[r("div",{staticClass:"wtps-row__text"},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v(" "),r("div",{staticClass:"wtps-row__control"},[r("div",{staticClass:"wtps-row__icon wtps-row__icon-more",domProps:{innerHTML:t._s(t.iconMore)},on:{click:function(r){return t.onPressItem(e)}}})])])})),0):t._e()])}))],2)])}),[],!1,null,null,null);e.default=component.exports},816:function(t,e,r){"use strict";r.r(e);r(17),r(11),r(20),r(24),r(14),r(25);var o=r(18),n=r(5);r(74);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"",unit:"",rate:"",quantity:"",is_brigade:!1},f={props:["fetchWorks"],data:function(){return{errors:{},form:l({},d)}},methods:{click:function(){this.$store.commit("mwa/close")},sendForm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.post("/api/estimates/".concat(t.$route.params.slug,"/works/"),t.form);case 3:e.sent,t.fetchWorks&&t.fetchWorks(),t.$store.commit("mwaw/close"),t.form=l({},d),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.errors=e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},m=(r(639),r(8)),_=r(183),v=r.n(_),h=r(827),w=r(915),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.$store.state.mwa.isOpen?r("div",{staticClass:"mwa"},[r("div",{staticClass:"mwa__overlay",on:{click:t.click}}),t._v(" "),r("div",{staticClass:"mwa__modal"},[t._m(0),t._v(" "),r("div",{staticClass:"mwa__content"},[r("v-row",[r("v-col",{attrs:{md:"12"}},[r("div",{staticClass:"mwa__input"},[r("div",{staticClass:"mwa__text"},[t._v("Исполнитель:")]),t._v(" "),r("div",{staticClass:"mwa__radios"},[r("label",{staticClass:"mwa-radio"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_brigade,expression:"form.is_brigade"}],staticClass:"mwa-radio__input",attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.form.is_brigade,!0)},on:{change:function(e){return t.$set(t.form,"is_brigade",!0)}}}),t._v(" "),r("div",{staticClass:"mwa-radio__fake"}),t._v(" "),r("div",{staticClass:"mwa-radio__text"},[t._v("Бригада")])]),t._v(" "),r("label",{staticClass:"mwa-radio"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_brigade,expression:"form.is_brigade"}],staticClass:"mwa-radio__input",attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.form.is_brigade,!1)},on:{change:function(e){return t.$set(t.form,"is_brigade",!1)}}}),t._v(" "),r("div",{staticClass:"mwa-radio__fake"}),t._v(" "),r("div",{staticClass:"mwa-radio__text"},[t._v("Фирма")])])])])]),t._v(" "),r("v-col",{attrs:{md:"6"}},[r("div",{staticClass:"mwa__input"},[r("AdminInput",{attrs:{label:"Наименование услуги",placeholder:"Очистка потолков",error:t.errors.name},on:{keypress:function(e){delete t.errors.name}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),r("v-col",{attrs:{md:"6"}},[r("div",{staticClass:"mwa__input"},[r("AdminInput",{attrs:{label:"Еденица измерения услуги",placeholder:"м2",error:t.errors.unit},on:{keypress:function(e){delete t.errors.unit}},model:{value:t.form.unit,callback:function(e){t.$set(t.form,"unit",e)},expression:"form.unit"}})],1)]),t._v(" "),r("v-col",{attrs:{md:"6"}},[r("div",{staticClass:"mwa__input"},[r("AdminInput",{attrs:{label:"Укажите объем услуги",error:t.errors.quantity},on:{keypress:function(e){delete t.errors.quantity}},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1)]),t._v(" "),r("v-col",{attrs:{md:"6"}},[r("div",{staticClass:"mwa__input"},[r("AdminInput",{attrs:{label:"Ставка за еденицу",placeholder:"тенге",error:t.errors.rate},on:{keypress:function(e){delete t.errors.rate}},model:{value:t.form.rate,callback:function(e){t.$set(t.form,"rate",e)},expression:"form.rate"}})],1)])],1),t._v(" "),r("div",{staticClass:"mwa__button"},[r("UiButton",{attrs:{size:"small",title:"Принять","on-click":t.sendForm}})],1)],1)])]):r("div")}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mwa__header"},[r("div",{staticClass:"mwa__title"},[t._v("Новый тип работ")])])}],!1,null,null,null);e.default=component.exports;v()(component,{AdminInput:r(568).default,UiButton:r(110).default}),v()(component,{VCol:h.a,VRow:w.a})},817:function(t,e,r){"use strict";r.r(e);r(17),r(11),r(20),r(24),r(14),r(25);var o=r(18),n=r(5);r(74),r(31);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={name:"",unit:"",rate:"",quantity:"",is_brigade:!1},f={props:["fetchWorks"],data:function(){return{errors:{},form:l({},d)}},methods:{click:function(){this.$store.commit("mwaw/close")},sendForm:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=t.form.is_brigade?t.$store.state.mwaw.data.rate.max_brigade_rate?t.$store.state.mwaw.data.rate.max_brigade_rate:t.$store.state.mwaw.data.rate.min_brigade_rate:t.$store.state.mwaw.data.rate.max_company_rate?t.$store.state.mwaw.data.rate.max_company_rate:t.$store.state.mwaw.data.rate.min_company_rate,e.next=4,t.$axios.post("/api/estimates/".concat(t.$route.params.slug,"/works/"),{source_work_type:t.$store.state.mwaw.data.source_work_type,name:t.$store.state.mwaw.data.name,unit:t.$store.state.mwaw.data.unit,rate:r,quantity:t.form.quantity,is_brigade:t.form.is_brigade});case 4:t.form=l({},d),t.$store.commit("mwaw/close"),t.fetchWorks&&t.fetchWorks(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t.errors=e.t0.response.data;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}},m=(r(641),r(8)),_=r(183),v=r.n(_),h=r(827),w=r(915),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.$store.state.mwaw.isOpen?r("div",{staticClass:"mwa mwaw"},[r("div",{staticClass:"mwa__overlay",on:{click:t.click}}),t._v(" "),r("div",{staticClass:"mwa__modal"},[r("div",{staticClass:"mwa__header"},[r("div",{staticClass:"mwa__title"},[t._v(t._s(t.$store.state.mwaw.data.name))])]),t._v(" "),r("div",{staticClass:"mwa__content"},[r("v-row",[r("v-col",{attrs:{md:"12"}},[r("div",{staticClass:"mwa__input"},[r("div",{staticClass:"mwa__text"},[t._v("Исполнитель:")]),t._v(" "),r("div",{staticClass:"mwa__radios"},[r("label",{staticClass:"mwa-radio"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_brigade,expression:"form.is_brigade"}],staticClass:"mwa-radio__input",attrs:{type:"radio"},domProps:{value:!0,checked:t._q(t.form.is_brigade,!0)},on:{change:function(e){return t.$set(t.form,"is_brigade",!0)}}}),t._v(" "),r("div",{staticClass:"mwa-radio__fake"}),t._v(" "),r("div",{staticClass:"mwa-radio__text"},[t._v("Бригада")])]),t._v(" "),r("label",{staticClass:"mwa-radio"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.form.is_brigade,expression:"form.is_brigade"}],staticClass:"mwa-radio__input",attrs:{type:"radio"},domProps:{value:!1,checked:t._q(t.form.is_brigade,!1)},on:{change:function(e){return t.$set(t.form,"is_brigade",!1)}}}),t._v(" "),r("div",{staticClass:"mwa-radio__fake"}),t._v(" "),r("div",{staticClass:"mwa-radio__text"},[t._v("Фирма")])])])])]),t._v(" "),r("v-col",{attrs:{md:"12"}},[r("div",{staticClass:"mwa__input"},[r("AdminInput",{attrs:{label:"Укажите объем услуг",placeholder:t.$store.state.mwaw.data.unit,value:t.form.quantity,error:t.errors.quantity},on:{keypress:function(e){delete t.errors.quantity}},model:{value:t.form.quantity,callback:function(e){t.$set(t.form,"quantity",e)},expression:"form.quantity"}})],1)])],1),t._v(" "),r("div",{staticClass:"mwa__button"},[r("UiButton",{attrs:{size:"small",title:"Принять","on-click":t.sendForm}})],1)],1)])]):r("div")}),[],!1,null,"6fa65ca0",null);e.default=component.exports;v()(component,{AdminInput:r(568).default,UiButton:r(110).default}),v()(component,{VCol:h.a,VRow:w.a})},894:function(t,e,r){"use strict";r(806)},895:function(t,e,r){var o=r(27)(!1);o.push([t.i,".admin-inner{padding-top:20px;padding-left:12px;padding-right:12px;flex-grow:1}.admin-form{background:#fff;box-shadow:0 0 8px rgba(0,0,0,.25);border-radius:8px;padding:20px}.admin-form__table{padding-top:36px}.admin-form__buttons{display:flex;justify-content:flex-end}.admin-form__buttons .admin-form__button{margin-left:15px}.admin-form__input{margin-bottom:10px}.admin-form__title{font-size:24px;line-height:30px;font-weight:700;color:#000}.admin-form__button{margin-top:10px}.admin-form__footer{display:flex;justify-content:space-between}.admin-table{border:1px solid #d2d2d2;box-sizing:border-box;box-shadow:0 0 4px rgba(0,0,0,.25);border-radius:10px;overflow:hidden}.admin-table th{font-weight:500;color:#fff!important;font-size:16px!important;line-height:28px;text-align:left!important;padding-top:5px!important;padding-bottom:5px!important;background-color:#2091f9}.admin-table th:not(:last-child){border-right:2px solid #e0e0e0}.admin-table__item td{min-height:38px!important;height:38px!important;font-size:16px!important;color:#666;line-height:24px;padding-top:5px!important;padding-bottom:5px!important}.admin-table__item td:not(:last-child){border-right:2px solid #e0e0e0}.admin-table__footer td{font-weight:500;color:#fff!important;font-size:16px!important;line-height:28px;text-align:left!important;padding-top:5px!important;padding-bottom:5px!important;background-color:#2091f9}.admin-table__footer td:not(:last-child){border-right:2px solid #e0e0e0}.admin-table .v-data-footer,.admin-table .v-data-table-header__icon{display:none}",""]),t.exports=o},928:function(t,e,r){"use strict";r.r(e);var o=r(18),n=(r(304),r(31),r(74),{layout:"admin",asyncData:function(t){return Object(o.a)(regeneratorRuntime.mark((function e(){var r,o,n,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.params,o=t.$axios,n=r.slug,e.next=4,o.get("/api/catalogs/cities/?limit=100000");case 4:return c=e.sent,e.next=7,o.get("/api/estimates/".concat(n,"/"));case 7:return l=e.sent,e.next=10,o.get("/api/estimates/".concat(n,"/works/?limit=100000"));case 10:return d=e.sent,e.next=13,o.get("/api/catalogs/work-types/?limit=100000&level=0&rates_city=".concat(l.data.city.id));case 13:return f=e.sent,e.abrupt("return",{form:{name:l.data.repr,city:l.data.city.id},cities:{isFetching:!1,list:c.data.results},defaultTitle:l.data.repr,estimateId:n,works:d.data.results.length>0?d.data.results:[{},{},{},{},{}],workTypes:f.data.results});case 15:case"end":return e.stop()}}),e)})))()},data:function(){return{errors:{},form:{city:null,name:""},cities:{isFetching:!1,list:[]},defaultTitle:"",estimateId:null,works:[{},{},{},{},{}],workTypes:[],tableHeaders:[{text:"Наименование работ",value:"name"},{text:"Исполнитель",value:""},{text:"Объём работ",value:"quantity"},{text:"Стоимость, ₸",value:"rate"}]}},computed:{footer:function(){return{type:"FOOTER",quantity:"Итого:",rate:this.works.reduce((function(t,e){return+t+ +e.rate}),0).toFixed(2)}}},watch:{"form.city":function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.$axios.get("/api/catalogs/work-types/?limit=100000&level=0&rates_city=".concat(t));case 2:o=e.sent,r.workTypes=o.data.results;case 4:case"end":return e.stop()}}),e)})))()}},mounted:function(){},methods:{getItemClass:function(t){return"FOOTER"===t.type?"admin-table__footer":"admin-table__item"},removeEstimate:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isFetching=!0,t.errors={},e.prev=2,e.next=5,t.$axios.delete("/api/estimates/".concat(t.$route.params.slug,"/"));case 5:e.sent,t.$router.push("/estimates"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.errors=e.t0.response.data;case 12:return e.prev=12,t.isFetching=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()},generatePdf:function(){},saveChange:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isFetching=!0,t.errors={},e.prev=2,e.next=5,t.$axios.patch("/api/estimates/".concat(t.$route.params.slug,"/"),t.form);case 5:e.sent,t.defaultTitle=t.form.name,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t.errors=e.t0.response.data;case 12:return e.prev=12,t.isFetching=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()},fetchWorks:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$axios.get("/api/estimates/".concat(t.$route.params.slug,"/works/?limit=100000"));case 3:r=e.sent,t.works=r.data.results.length>0?r.data.results:[{},{},{},{},{}],e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.warn(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}}),c=(r(894),r(8)),l=r(183),d=r.n(l),f=r(827),m=r(587),_=r(917),v=r(915),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"admin page-wrapper"},[r("AdminHeader",{attrs:{title:"Смета "+t.defaultTitle,type:"back","back-to":"/estimates"}}),t._v(" "),r("div",{staticClass:"page-content admin-content"},[r("div",{staticClass:"admin-inner"},[r("div",{staticClass:"admin-form"},[r("v-container",{attrs:{fluid:""}},[r("v-row",[r("v-col",{attrs:{md:"12"}},[r("div",{staticClass:"admin-form__input"},[r("AdminInput",{attrs:{value:t.form.name,placeholder:"Смета № 1",label:"Название сметы",error:t.errors.name},on:{keypress:function(e){delete t.errors.name}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)]),t._v(" "),r("v-col",{attrs:{md:"12"}},[r("div",{staticClass:"admin-form__input"},[t.cities.isFetching?r("Loader"):r("AdminSelect",{attrs:{"item-text":"repr","item-value":"id",label:"Выберите город",items:t.cities.list,placeholder:"Город",error:t.errors.city},on:{input:function(e){delete t.errors.city}},model:{value:t.form.city,callback:function(e){t.$set(t.form,"city",e)},expression:"form.city"}})],1)]),t._v(" "),r("v-col",{attrs:{md:"5"}},[r("div",{staticClass:"admin-from__input"},[r("AdminSelectWorkTypes",{attrs:{city:t.form.city,items:t.workTypes}})],1)]),t._v(" "),r("v-col",{attrs:{md:"7"}},[r("div",{staticClass:"admin-form__table"},[r("v-data-table",{staticClass:"admin-table",attrs:{"items-per-page":-1,headers:t.tableHeaders,"item-class":t.getItemClass,items:t.works.concat([t.footer])}})],1)]),t._v(" "),r("v-col",{staticClass:"admin-form__footer",attrs:{md:"12"}},[r("div",{staticClass:"admin-form__button"},[r("UiButton",{attrs:{color:"red",size:"small",title:"Удалить смету",icon:"trash","on-click":t.removeEstimate}})],1),t._v(" "),r("div",{staticClass:"admin-form__buttons"},[r("div",{staticClass:"admin-form__button"},[r("UiButton",{attrs:{color:"green",size:"small",title:"Актуализировать","on-click":t.saveChange}})],1),t._v(" "),r("div",{staticClass:"admin-form__button"},[r("UiButton",{attrs:{color:"green",size:"small",title:"Скачать смету в PDF",icon:"pdf","on-click":t.generatePdf}})],1)])])],1)],1)],1)])]),t._v(" "),r("AdminModalWorkAdd",{attrs:{"fetch-works":t.fetchWorks}}),t._v(" "),r("AdminModalWorkAddWork",{attrs:{"fetch-works":t.fetchWorks}})],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{AdminHeader:r(567).default,AdminInput:r(568).default,Loader:r(569).default,AdminSelect:r(589).default,AdminSelectWorkTypes:r(815).default,UiButton:r(110).default,AdminModalWorkAdd:r(816).default,AdminModalWorkAddWork:r(817).default}),d()(component,{VCol:f.a,VContainer:m.a,VDataTable:_.a,VRow:v.a})}}]);